title: 手机抓包工具汇总
date: 2017-06-27 22:44:40
modified: 2017-06-27 22:44:40
author: zrong
postid: 2646
slug: 2646
nicename: capture-package-on-phone
attachments: $ATTACHMENTS
posttype: post
poststatus: publish
tags: ios, android
category: technology

做移动开发，抓包是基本功。现在的开发者当真是非常幸福，因为抓包工具已经非常成熟了。

在移动设备上抓包，需要下面几个方面的配合：

1. 移动设备支持；
2. 代理服务器；
3. 分析工具。 <!--more-->

# 初级工具

先说个抓 HTTP(HTTPS) 包的例子算是入门啦。

**移动设备支持**

| 操作系统 | 越狱或root | 移动设备支持 |
| ---- | ---- | ---- |
|  iOS | 否 | 操作系统自带代理 |
|  Android | 否 | 操作系统自带代理 |

**代理服务器+分析工具**

| 操作系统 | 软件 |
| ---- | ---- |
|  Windows | [Fiddler][1] |
|  macOS | [Charles][2] |

Fiddler 是 freeware， 它的 macOS 版本已经在进行 beta 测试了，由于采用了 .NET Framework，它的 macOS 版本可以基于 [mono][3] 运行。

Charles 是商业软件，它也有 Windows 版本，由于使用 JAVA 编写，它的 Windows 版很容易实现。

既然它们都已经是全平台支持，怎么选就看你了。我目前主要在 macOS 下工作。就介绍 Charles 好了。

# 进阶工具

**移动设备支持**

| 操作系统 | 越狱或root | 移动设备支持 |
| ---- | ---- | ---- |
|  iOS | 否 | rvictl |
|  Android | 否 | PacketCapture |
|  Android | 否 | tPacketCapture |
|  Android | 是 | tcpdump |

**代理服务器+分析工具**

| 操作系统 | 软件 |
| ---- | ---- |
|  Windows | [Wireshark][4] |
|  macOS | [Wireshark][4] |

# 其他工具

https://portswigger.net/burp/

https://mitmproxy.org/

mitm 分为三个部分，其中 mitm-web 自带了一个基于 web 的分析工具。

（未完待续）

[1]: https://www.telerik.com/download/fiddler
[2]: https://www.charlesproxy.com/
[3]: http://www.mono-project.com/
[4]: https://www.wireshark.org/
